{"version":3,"file":"request.js","sources":["utils/request.js"],"sourcesContent":["//封装uni.request\r\nconst BASE_URL = 'https://tea.qingnian8.com/api/bizhi/'\r\nexport function request(config={}) {//传入的是一个数组\r\n\t//数组结构\r\n\tlet{url,\r\n\t\tmethod='GET',\r\n\t\theader={},\r\n\t\tdata={}\r\n\t}=config\r\n\theader['access-key'] = \"335455\"\r\n\treturn new Promise((resolve, reject) => {\r\n\t\t// resolve成功的回调\r\n\t\t// reject失败的回调\r\n\t\tuni.request({\r\n\t\t\turl: BASE_URL+url,\r\n\t\t\tmethod: method,\r\n\t\t\theader: header,\r\n\t\t\tdata: data,\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tif(res.data.errCode===0){\r\n\t\t\t\tresolve(res)\r\n\t\t\t\t}\r\n\t\t\t\telse if(res.data.errCode===400){\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:'提示',\r\n\t\t\t\t\t\tcontent:res.data.errMsg,\r\n\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\treject(res.data)\r\n\t\t\t\t}else{\r\n\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\ttitle:res.data.errMsg,\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\treject(res.data)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tfail: (err) => {\r\n\t\t\t\treject(err)\r\n\t\t\t}\r\n\t\t})\r\n\r\n\r\n\r\n\t})\r\n}"],"names":["uni"],"mappings":";;AACA,MAAM,WAAW;AACV,SAAS,QAAQ,SAAO,IAAI;AAElC,MAAG;AAAA,IAAC;AAAA,IACH,SAAO;AAAA,IACP,SAAO,CAAE;AAAA,IACT,OAAK,CAAE;AAAA,EACT,IAAG;AACF,SAAO,YAAY,IAAI;AACvB,SAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AAGvCA,kBAAAA,MAAI,QAAQ;AAAA,MACX,KAAK,WAAS;AAAA,MACd;AAAA,MACA;AAAA,MACA;AAAA,MACA,SAAS,CAAC,QAAQ;AACjB,YAAG,IAAI,KAAK,YAAU,GAAE;AACxB,kBAAQ,GAAG;AAAA,QACV,WACO,IAAI,KAAK,YAAU,KAAI;AAC9BA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM;AAAA,YACN,SAAQ,IAAI,KAAK;AAAA,YACjB,YAAW;AAAA,UAEjB,CAAM;AACF,iBAAO,IAAI,IAAI;AAAA,QACnB,OAAS;AACJA,wBAAAA,MAAI,UAAU;AAAA,YACb,OAAM,IAAI,KAAK;AAAA,YACf,MAAK;AAAA,UAEX,CAAM;AACD,iBAAO,IAAI,IAAI;AAAA,QACf;AAAA,MACD;AAAA,MACD,MAAM,CAAC,QAAQ;AACd,eAAO,GAAG;AAAA,MACV;AAAA,IACJ,CAAG;AAAA,EAIH,CAAE;AACF;;"}